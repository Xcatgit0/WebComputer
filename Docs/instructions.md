# WebComputer Instruction Set

à¹€à¸­à¸à¸ªà¸²à¸£à¸™à¸µà¹‰à¸­à¸˜à¸´à¸šà¸²à¸¢à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸±à¹‰à¸‡à¸«à¸¡à¸”à¸—à¸µà¹ˆà¹ƒà¸Šà¹‰à¹ƒà¸™à¸£à¸°à¸šà¸šà¸„à¸­à¸¡à¸žà¸´à¸§à¹€à¸•à¸­à¸£à¹Œà¸ˆà¸³à¸¥à¸­à¸‡à¸‚à¸­à¸‡à¸„à¸¸à¸“ (à¸¢à¸à¹€à¸§à¹‰à¸™à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸µà¹ˆà¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¸­à¸¸à¸›à¸à¸£à¸“à¹Œ)

---

## ðŸ“Œ à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸—à¸±à¹ˆà¸§à¹„à¸›
opcode src1 src2
- `src1`, `src2`: à¹€à¸›à¹‡à¸™à¹€à¸£à¸ˆà¸´à¸ªà¹€à¸•à¸­à¸£à¹Œ (à¹€à¸Šà¹ˆà¸™ `r1`) à¸«à¸£à¸·à¸­à¸•à¸±à¸§à¹€à¸¥à¸‚à¸—à¸±à¸™à¸—à¸µ (immediate value)
- `label:` à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸šà¸ªà¸£à¹‰à¸²à¸‡à¸ˆà¸¸à¸”à¸­à¹‰à¸²à¸‡à¸­à¸´à¸‡à¹€à¸žà¸·à¹ˆà¸­à¸à¸²à¸£ `jmp`, `call`, à¸¯à¸¥à¸¯

---

## ðŸ§® à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹€à¸¥à¸‚à¸„à¸“à¸´à¸•

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                  | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡             |
|----------|----------------------------|----------------------|
| `add`    | à¸šà¸§à¸ reg1 += reg2          | `add r1, r2`         |
| `sub`    | à¸¥à¸š reg1 -= reg2           | `sub r1, r2`         |
| `mul`    | à¸„à¸¹à¸“ reg1 *= reg2          | `mul r1, r2`         |
| `div`    | à¸«à¸²à¸£ reg1 /= reg2 (floor)  | `div r1, r2`         |
| `adi`    | à¹€à¸žà¸´à¹ˆà¸¡à¸„à¹ˆà¸²à¸—à¸±à¸™à¸—à¸µ             | `adi r1, 5`          |
| `sdi`    | à¸¥à¸”à¸„à¹ˆà¸²à¸—à¸±à¸™à¸—à¸µ                | `sdi r1, 10`         |

---

## ðŸ§  à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸•à¸£à¸£à¸à¸°à¹à¸¥à¸°à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                                   | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡             |
|----------|---------------------------------------------|----------------------|
| `not`    | NOT reg1 â†’ reg2 (à¸–à¹‰à¸² reg1 > 0 â†’ 0, else 1) | `not r1, r2`         |
| `wise`   | NOT â†’ reg1 = (reg1 > 0 ? 0 : 1)             | `wise r1`            |
| `cmp`    | à¹€à¸›à¸£à¸µà¸¢à¸šà¹€à¸—à¸µà¸¢à¸š reg1 - reg2 â†’ à¸•à¸±à¹‰à¸‡à¸„à¹ˆà¸² flag    | `cmp r1, r2`         |

---

## ðŸ—ƒï¸ à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸‚à¹‰à¸­à¸¡à¸¹à¸¥

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                          | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡             |
|----------|------------------------------------|----------------------|
| `ldi`    | à¹‚à¸«à¸¥à¸”à¸„à¹ˆà¸²à¸—à¸±à¸™à¸—à¸µà¹ƒà¸ªà¹ˆà¹€à¸£à¸ˆà¸´à¸ªà¹€à¸•à¸­à¸£à¹Œ         | `ldi r1, 123`        |
| `mov`    | à¸¢à¹‰à¸²à¸¢à¸„à¹ˆà¸²à¸ˆà¸²à¸ reg1 â†’ reg2            | `mov r1, r2`         |

---

## ðŸ” à¸à¸²à¸£à¸„à¸§à¸šà¸„à¸¸à¸¡à¸à¸²à¸£à¹„à¸«à¸¥ (Jump & Call)

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                                  | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡           |
|----------|--------------------------------------------|--------------------|
| `jmp`    | à¸à¸£à¸°à¹‚à¸”à¸”à¹„à¸›à¸¢à¸±à¸‡ label                          | `jmp loop`         |
| `call`   | à¹€à¸£à¸µà¸¢à¸à¸Ÿà¸±à¸‡à¸à¹Œà¸Šà¸±à¸™ à¸žà¸£à¹‰à¸­à¸¡à¸šà¸±à¸™à¸—à¸¶à¸à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡à¸›à¸±à¸ˆà¸ˆà¸¸à¸šà¸±à¸™ | `call drawUI`      |
| `end`    | à¸ˆà¸šà¸à¸²à¸£à¸—à¸³à¸‡à¸²à¸™à¸‚à¸­à¸‡ `call` à¹à¸¥à¸° return à¸à¸¥à¸±à¸š      | `end`              |
| `goto`   | à¸à¸£à¸°à¹‚à¸”à¸”à¹à¸šà¸šà¸£à¸°à¸šà¸¸à¸•à¸³à¹à¸«à¸™à¹ˆà¸‡ (pc index)          | `goto 45`          |

---

## ðŸ“ à¹€à¸‡à¸·à¹ˆà¸­à¸™à¹„à¸‚à¸à¸£à¸°à¹‚à¸”à¸”

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                                    | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡         |
|----------|----------------------------------------------|------------------|
| `je`     | à¸–à¹‰à¸² zf == 1 à¹ƒà¸«à¹‰à¸à¸£à¸°à¹‚à¸”à¸”                       | `je endloop`     |
| `jnz`    | à¸–à¹‰à¸² reg2 != 0 à¹ƒà¸«à¹‰à¸à¸£à¸°à¹‚à¸”à¸”                     | `jnz loop`       |
| `jez`    | à¸–à¹‰à¸² reg2 == 0 à¹ƒà¸«à¹‰à¸à¸£à¸°à¹‚à¸”à¸”                     | `jez exit`       |
| `jgz`    | à¸–à¹‰à¸² reg2 > 0 à¹ƒà¸«à¹‰à¸à¸£à¸°à¹‚à¸”à¸”                      | `jgz skip`       |

---

## ðŸ“¤/ðŸ“¥ I/O

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                     | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡             |
|----------|-------------------------------|----------------------|
| `in`     | à¸­à¹ˆà¸²à¸™à¸„à¹ˆà¸²à¸ˆà¸²à¸ address â†’ reg2     | `in r1, r2`          |
| `out`    | à¹€à¸‚à¸µà¸¢à¸™à¸„à¹ˆà¸²à¸ˆà¸²à¸ reg2 â†’ address   | `out r1, r2`         |

---

## ðŸ–¥ï¸ Terminal (TTY)

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                                      | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡                |
|----------|------------------------------------------------|-------------------------|
| `tty`    | à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¹€à¸à¸µà¹ˆà¸¢à¸§à¸à¸±à¸šà¹€à¸—à¸­à¸£à¹Œà¸¡à¸´à¸™à¸±à¸¥                    | `tty 1, "Hello"`        |

| mode | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                        |
|------|---------------------------------|
| `0`  | à¹à¸ªà¸”à¸‡ ASCII character à¸ˆà¸²à¸à¸„à¹ˆà¸²à¸•à¸±à¸§à¹€à¸¥à¸‚ |
| `1`  | à¹à¸ªà¸”à¸‡à¸‚à¹‰à¸­à¸„à¸§à¸²à¸¡                      |
| `2`  | à¸¥à¹‰à¸²à¸‡à¸«à¸™à¹‰à¸²à¸ˆà¸­                       |
| `3`  | à¹à¸ªà¸”à¸‡ string à¸ˆà¸²à¸ char codes      |

---

## ðŸ·ï¸ Preprocessor

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡     | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                                       | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡            |
|------------|--------------------------------------------------|---------------------|
| `define`   | à¸™à¸´à¸¢à¸²à¸¡à¸„à¹ˆà¸²à¸„à¸‡à¸—à¸µà¹ˆ                                   | `define size, 128`  |
| `Rdefine`  | à¹‚à¸«à¸¥à¸” define à¹ƒà¸«à¸¡à¹ˆà¹€à¸‚à¹‰à¸²à¹‚à¸›à¸£à¹à¸à¸£à¸¡ (reprocess code)   | `Rdefine`           |

---

## â›” à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸«à¸¢à¸¸à¸”

| à¸„à¸³à¸ªà¸±à¹ˆà¸‡   | à¸„à¸§à¸²à¸¡à¸«à¸¡à¸²à¸¢                     | à¸•à¸±à¸§à¸­à¸¢à¹ˆà¸²à¸‡     |
|----------|-------------------------------|--------------|
| `hlt`    | à¸«à¸¢à¸¸à¸”à¹€à¸„à¸£à¸·à¹ˆà¸­à¸‡à¹à¸¥à¸°à¹€à¸‹à¸Ÿ disk       | `hlt`        |

---

## â“ à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸­à¸·à¹ˆà¸™

à¸¢à¸±à¸‡à¹„à¸¡à¹ˆà¸¡à¸µ

---

## ðŸ§¾ à¸«à¸¡à¸²à¸¢à¹€à¸«à¸•à¸¸

- à¸•à¸±à¸§à¹à¸›à¸£ à¹€à¸Šà¹ˆà¸™ `r0`, `r1`, ... `r63` à¸„à¸·à¸­à¹€à¸£à¸ˆà¸´à¸ªà¹€à¸•à¸­à¸£à¹Œ 64 à¸•à¸±à¸§
- à¸„à¸³à¸ªà¸±à¹ˆà¸‡à¸£à¸±à¸šà¸„à¹ˆà¸²à¸œà¹ˆà¸²à¸™ define à¹„à¸”à¹‰ à¹€à¸Šà¹ˆà¸™ `define max, 100` à¹à¸¥à¹‰à¸§à¹ƒà¸Šà¹‰ `ldi r1, max`
- `;` à¹ƒà¸Šà¹‰à¸ªà¸³à¸«à¸£à¸±à¸š comment

---

> Â© Document generated for internal use by the WebComputer system.
